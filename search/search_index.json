{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Getting started \u2693 Start database and server: docker-compose up Check server status: curl localhost:8080/","title":"Getting started"},{"location":"#getting-started","text":"Start database and server: docker-compose up Check server status: curl localhost:8080/","title":"Getting started"},{"location":"api/","text":"API \u2693 Get status \u2693 Returns server version and source git commit from which it was built. Endpoint : GET / Response : HTTP/ 1.1 200 OK { \"version\" : \"refs/heads/master\" , \"commit\" : \"88694ddfb91153cd470bec20d23aee360feccdf7\" } Get latest sensors readings \u2693 Returns newest sensors readings found in the database. Endpoint : GET /sensors Response : HTTP/ 1.1 200 OK { \"timestamp\" : 1586532636 , \"temperature\" : 12 , \"pressure\" : 1001.5 , \"humidity\" : 41 , \"gas\" : 14 } Get sensors readings from x hours \u2693 Returns sensors readings that were created within x hours from now. Endpoint : GET /sensors/:hours Parameters : Parameter Description Type hours Number of hours since now integer Response : HTTP/ 1.1 200 OK [ ... { \"timestamp\" : 1587128346 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 }, { \"timestamp\" : 1587128347 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 }, { \"timestamp\" : 1587128348 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 } ... ] Create new sensors readings \u2693 Create a new entry in the database with given sensors readings. Endpoint : POST /sensors Headers : Name Value Content-Type application/json Authentication Bearer $TOKEN Data : Parameter Description Unit Default timestamp Unix timestamp seconds current temperature Temperature celsius 0 humidity Humidity percentage 0 pressure Pressure hPa 0 gas Gas kOhm 0 Response : HTTP/ 1.1 201 Created { \"timestamp\" : 1586532636 , \"temperature\" : 12 , \"pressure\" : 1001.5 , \"humidity\" : 41 , \"gas\" : 14 } Common errors \u2693 Missing Authorization header: HTTP/ 1.1 400 Bad Request { \"message\" : \"missing key in request header\" } Wrong token: HTTP/ 1.1 401 Unauthorized { \"message\" : \"Unauthorized\" } Wrong data format: HTTP/ 1.1 500 Internal Server Error { \"message\" : \"Internal Server Errror\" }","title":"API"},{"location":"api/#api","text":"","title":"API"},{"location":"api/#get-status","text":"Returns server version and source git commit from which it was built. Endpoint : GET / Response : HTTP/ 1.1 200 OK { \"version\" : \"refs/heads/master\" , \"commit\" : \"88694ddfb91153cd470bec20d23aee360feccdf7\" }","title":"Get status"},{"location":"api/#get-latest-sensors-readings","text":"Returns newest sensors readings found in the database. Endpoint : GET /sensors Response : HTTP/ 1.1 200 OK { \"timestamp\" : 1586532636 , \"temperature\" : 12 , \"pressure\" : 1001.5 , \"humidity\" : 41 , \"gas\" : 14 }","title":"Get latest sensors readings"},{"location":"api/#get-sensors-readings-from-x-hours","text":"Returns sensors readings that were created within x hours from now. Endpoint : GET /sensors/:hours Parameters : Parameter Description Type hours Number of hours since now integer Response : HTTP/ 1.1 200 OK [ ... { \"timestamp\" : 1587128346 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 }, { \"timestamp\" : 1587128347 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 }, { \"timestamp\" : 1587128348 , \"temperature\" : 20.5 , \"pressure\" : 1000.2 , \"humidity\" : 60.1 , \"gas\" : 10 } ... ]","title":"Get sensors readings from x hours"},{"location":"api/#create-new-sensors-readings","text":"Create a new entry in the database with given sensors readings. Endpoint : POST /sensors Headers : Name Value Content-Type application/json Authentication Bearer $TOKEN Data : Parameter Description Unit Default timestamp Unix timestamp seconds current temperature Temperature celsius 0 humidity Humidity percentage 0 pressure Pressure hPa 0 gas Gas kOhm 0 Response : HTTP/ 1.1 201 Created { \"timestamp\" : 1586532636 , \"temperature\" : 12 , \"pressure\" : 1001.5 , \"humidity\" : 41 , \"gas\" : 14 }","title":"Create new sensors readings"},{"location":"api/#common-errors","text":"Missing Authorization header: HTTP/ 1.1 400 Bad Request { \"message\" : \"missing key in request header\" } Wrong token: HTTP/ 1.1 401 Unauthorized { \"message\" : \"Unauthorized\" } Wrong data format: HTTP/ 1.1 500 Internal Server Error { \"message\" : \"Internal Server Errror\" }","title":"Common errors"},{"location":"ci-cd/","text":"CI/CD \u2693 Below flowchat shows the CI/CD process of the server. Flowchart \u2693","title":"CI/CD"},{"location":"ci-cd/#cicd","text":"Below flowchat shows the CI/CD process of the server.","title":"CI/CD"},{"location":"ci-cd/#flowchart","text":"","title":"Flowchart"},{"location":"code/","text":"Code \u2693 Code documentation is available here .","title":"Code"},{"location":"code/#code","text":"Code documentation is available here .","title":"Code"},{"location":"env-vars/","text":"Environment variables \u2693 DB_USER - database user name DB_PASS - database user password DB_NAME - database name DB_ADDR - database address (host:port) SERVER_ACCESS_TOKEN - token for POST requests SERVER_PORT - on which port the HTTP server should listen (443 for HTTPS) SERVER_CERTS_CACHE_DIR - where to store HTTPS certificates FIREBASE_DISABLED - useful for development purposes, where firebase credentials are absent","title":"Environment variables"},{"location":"env-vars/#environment-variables","text":"DB_USER - database user name DB_PASS - database user password DB_NAME - database name DB_ADDR - database address (host:port) SERVER_ACCESS_TOKEN - token for POST requests SERVER_PORT - on which port the HTTP server should listen (443 for HTTPS) SERVER_CERTS_CACHE_DIR - where to store HTTPS certificates FIREBASE_DISABLED - useful for development purposes, where firebase credentials are absent","title":"Environment variables"}]}